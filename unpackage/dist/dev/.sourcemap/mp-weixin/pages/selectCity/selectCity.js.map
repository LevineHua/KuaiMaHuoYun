{"version":3,"sources":["webpack:///D:/dinfen/dfkj/KuaiMaHuoYun/pages/selectCity/selectCity.vue?19a9","webpack:///D:/dinfen/dfkj/KuaiMaHuoYun/pages/selectCity/selectCity.vue?4580","webpack:///D:/dinfen/dfkj/KuaiMaHuoYun/pages/selectCity/selectCity.vue?6602","webpack:///D:/dinfen/dfkj/KuaiMaHuoYun/pages/selectCity/selectCity.vue","webpack:///D:/dinfen/dfkj/KuaiMaHuoYun/pages/selectCity/selectCity.vue?1e3d"],"names":["data","hotCitys","value","cityType","qqMapWX","components","ssSelectCity","onLoad","e","_this","type","QQMapWX","key","mapKey","position","onShow","searchHistory","uni","getStorageSync","methods","onSelect","city","console","log","redirectTo","url","clearHistory","removeStorageSync","getLocation","success","res","reverseGeocoder","location","latitude","longitude","result","ad_info","replace","fail","complete","searchCity","search","list","unshift","setStorageSync","has","i","length","navigateTo"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyF;AAC3B;AACL;;;AAGzD;AACyI;AACzI,gBAAgB,iJAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAA8gB,CAAgB,6hBAAG,EAAC,C;;;;;;;;;;;;ACAliB;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACeA,kL,8FAfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;uaAIe,EACdA,IADc,kBACP,CACN,OAAO,EACNC,QAAQ,EAAE,EADJ,EAENC,KAAK,EAAE,IAFD,EAGNC,QAAQ,EAAC,EAHH,EAINC,OAAO,EAAC,EAJF,EAAP,CAMA,CARa,EASdC,UAAU,EAAE,EACXC,YAAY,EAAZA,YADW,EATE,EAYdC,MAZc,kBAYPC,CAZO,EAYJ;AACT,QAAIC,KAAK,GAAG,IAAZ;AACAA,SAAK,CAACN,QAAN,GAAiBK,CAAC,CAACE,IAAnB;;AAEA;AACAD,SAAK,CAACL,OAAN,GAAgB,IAAIO,wBAAJ,CAAY;AAC3BC,SAAG,EAAEH,KAAK,CAACI,MADgB,EAAZ,CAAhB;;;AAIA;AACAJ,SAAK,CAACK,QAAN;AACA,GAvBa;AAwBdC,QAxBc,oBAwBL;AACR,QAAIN,KAAK,GAAG,IAAZ;AACA;AACA,QAAIO,aAAa,GAAGC,GAAG,CAACC,cAAJ,CAAmB,eAAnB,CAApB;AACAT,SAAK,CAACR,QAAN,GAAiBe,aAAjB;AACA,GA7Ba;AA8BdG,SAAO,EAAE;AACRC,YADQ,oBACCC,IADD,EACO;AACdC,aAAO,CAACC,GAAR,CAAYF,IAAZ;AACAJ,SAAG,CAACO,UAAJ,CAAe;AACdC,WAAG,EAAC,uCAAqCJ,IAArC,GAA0C,QAA1C,GAAmD,KAAKlB,QAD9C,EAAf;;AAGA,KANO;AAORuB,gBAPQ,0BAOM;AACbJ,aAAO,CAACC,GAAR,CAAY,QAAZ;AACAN,SAAG,CAACU,iBAAJ,CAAsB,eAAtB;AACA,WAAK1B,QAAL,GAAgB,EAAhB;AACA,KAXO;AAYRa,YAZQ,sBAYG;AACV,UAAIL,KAAK,GAAG,IAAZ;AACAQ,SAAG,CAACW,WAAJ,CAAgB;AACflB,YAAI,EAAE,OADS;AAEfmB,eAFe,mBAEPC,GAFO,EAEF;AACZR,iBAAO,CAACC,GAAR,CAAYO,GAAZ;AACArB,eAAK,CAACL,OAAN,CAAc2B,eAAd,CAA8B;AAC7BC,oBAAQ,EAAC;AACRC,sBAAQ,EAACH,GAAG,CAACG,QADL;AAERC,uBAAS,EAACJ,GAAG,CAACI,SAFN,EADoB;;AAK7BL,mBAL6B,mBAKrB7B,IALqB,EAKhB;AACZsB,qBAAO,CAACC,GAAR,CAAYvB,IAAZ;AACAS,mBAAK,CAACP,KAAN,GAAcF,IAAI,CAACmC,MAAL,CAAYC,OAAZ,CAAoBf,IAApB,CAAyBgB,OAAzB,CAAiC,GAAjC,EAAqC,EAArC,CAAd;AACAf,qBAAO,CAACC,GAAR,CAAYd,KAAK,CAACP,KAAlB;AACA,aAT4B;AAU7BoC,gBAV6B,gBAUxBA,KAVwB,EAUnB;AACThB,qBAAO,CAACC,GAAR,CAAYe,KAAZ;AACA,aAZ4B;AAa7BC,oBAb6B,sBAanB;AACTjB,qBAAO,CAACC,GAAR,CAAY,IAAZ;AACA,aAf4B,EAA9B;;AAiBA,SArBc,EAAhB;;AAuBA,KArCO;AAsCRiB,cAtCQ,sBAsCGC,MAtCH,EAsCW;AAClB,UAAIhC,KAAK,GAAG,IAAZ;AACA;AACA,UAAIO,aAAa,GAAGC,GAAG,CAACC,cAAJ,CAAmB,eAAnB,CAApB;AACA,UAAGuB,MAAM,IAAE,EAAX,EAAc;AACb,YAAGzB,aAAa,IAAE,EAAlB,EAAqB;AACpB,cAAI0B,IAAI,GAAG,EAAX;AACAA,cAAI,CAACC,OAAL,CAAaF,MAAb;AACAxB,aAAG,CAAC2B,cAAJ,CAAmB,eAAnB,EAAmCF,IAAnC;AACAjC,eAAK,CAACR,QAAN,GAAiByC,IAAjB;AACA,SALD,MAKO;AACN,cAAIG,GAAG,GAAG,CAAV;AACA,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC9B,aAAa,CAAC+B,MAA5B,EAAmCD,CAAC,EAApC,EAAuC;AACtC,gBAAG9B,aAAa,CAAC8B,CAAD,CAAb,IAAkBL,MAArB,EAA4B;AAC3BI,iBAAG,GAAC,CAAJ;AACA;AACA;AACD;AACD,cAAGA,GAAG,IAAE,CAAR,EAAU;AACT7B,yBAAa,CAAC2B,OAAd,CAAsBF,MAAtB;AACAhC,iBAAK,CAACR,QAAN,GAAiBe,aAAjB;AACA;AACDC,aAAG,CAAC2B,cAAJ,CAAmB,eAAnB,EAAmC5B,aAAnC;AACA;AACDM,eAAO,CAACC,GAAR,CAAYP,aAAZ;AACA;;AAEDC,SAAG,CAAC+B,UAAJ,CAAe;AACdvB,WAAG,EAAC,qCAAmCgB,MAAnC,GAA0C,QAA1C,GAAmD,KAAKtC,QAD9C,EAAf;;AAGA,KApEO,EA9BK,E;;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/selectCity/selectCity.js","sourcesContent":["import { render, staticRenderFns } from \"./selectCity.vue?vue&type=template&id=0d44db04&\"\nimport script from \"./selectCity.vue?vue&type=script&lang=js&\"\nexport * from \"./selectCity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0d44db04', component.options)\n    } else {\n      api.reload('0d44db04', component.options)\n    }\n    module.hot.accept(\"./selectCity.vue?vue&type=template&id=0d44db04&\", function () {\n      api.rerender('0d44db04', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"dinfen/dfkj/KuaiMaHuoYun/pages/selectCity/selectCity.vue\"\nexport default component.exports","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./selectCity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./selectCity.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./selectCity.vue?vue&type=template&id=0d44db04&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport QQMapWX from '../../common/qqmap-wx-jssdk.min.js'\nimport ssSelectCity from '@/components/ss-select-city/ss-select-city.vue'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\thotCitys: [],\n\t\t\tvalue: '北京',\n\t\t\tcityType:'',\n\t\t\tqqMapWX:''\n\t\t}\n\t},\n\tcomponents: {\n\t\tssSelectCity\n\t},\n\tonLoad(e) {\n\t\tvar _this = this;\n\t\t_this.cityType = e.type;\n\t\t\n\t\t// 实例化地图API\n\t\t_this.qqMapWX = new QQMapWX({\n\t\t\tkey: _this.mapKey\n\t\t})\n\t\t\n\t\t//获取当前地址\n\t\t_this.position();\n\t},\n\tonShow() {\n\t\tvar _this = this;\n\t\t//获取搜索记录\n\t\tvar searchHistory = uni.getStorageSync(\"searchHistory\");\n\t\t_this.hotCitys = searchHistory;\n\t},\n\tmethods: {\n\t\tonSelect(city) {\n\t\t\tconsole.log(city);\n\t\t\tuni.redirectTo({\n\t\t\t\turl:'../writeAddress/writeAddress?city='+city+'&type='+this.cityType\n\t\t\t})\n\t\t},\n\t\tclearHistory(){\n\t\t\tconsole.log(\"清空搜索记录\");\n\t\t\tuni.removeStorageSync(\"searchHistory\");\n\t\t\tthis.hotCitys = [];\n\t\t},\n\t\tposition() {\n\t\t\tvar _this = this;\n\t\t\tuni.getLocation({\n\t\t\t\ttype: 'wgs84',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t_this.qqMapWX.reverseGeocoder({\n\t\t\t\t\t\tlocation:{\n\t\t\t\t\t\t\tlatitude:res.latitude,\n\t\t\t\t\t\t\tlongitude:res.longitude\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(data){\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t_this.value = data.result.ad_info.city.replace('市','');\n\t\t\t\t\t\t\tconsole.log(_this.value)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(fail){\n\t\t\t\t\t\t\tconsole.log(fail)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete(){\n\t\t\t\t\t\t\tconsole.log('完成');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tsearchCity(search) {\n\t\t\tvar _this = this;\n\t\t\t//存储搜索城市历史记录\n\t\t\tvar searchHistory = uni.getStorageSync(\"searchHistory\");\n\t\t\tif(search!=''){\n\t\t\t\tif(searchHistory==''){\n\t\t\t\t\tvar list = [];\n\t\t\t\t\tlist.unshift(search);\n\t\t\t\t\tuni.setStorageSync(\"searchHistory\",list);\n\t\t\t\t\t_this.hotCitys = list;\n\t\t\t\t} else {\n\t\t\t\t\tvar has = 0;\n\t\t\t\t\tfor(var i=0;i<searchHistory.length;i++){\n\t\t\t\t\t\tif(searchHistory[i]==search){\n\t\t\t\t\t\t\thas=1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(has==0){\n\t\t\t\t\t\tsearchHistory.unshift(search);\n\t\t\t\t\t\t_this.hotCitys = searchHistory;\n\t\t\t\t\t}\n\t\t\t\t\tuni.setStorageSync(\"searchHistory\",searchHistory);\n\t\t\t\t}\n\t\t\t\tconsole.log(searchHistory);\n\t\t\t}\n\t\t\t\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../searchCity/searchCity?search='+search+'&type='+this.cityType\n\t\t\t})\n\t\t}\n\t}\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}