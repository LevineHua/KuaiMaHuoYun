(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"322f":function(e,t,o){"use strict";o.r(t);var r=o("bd3d"),n=o.n(r);for(var s in r)"default"!==s&&function(e){o.d(t,e,function(){return r[e]})}(s);t["default"]=n.a},4437:function(e,t,o){"use strict";o.r(t);var r=o("ef8b"),n=o("322f");for(var s in n)"default"!==s&&function(e){o.d(t,e,function(){return n[e]})}(s);o("77f2");var i=o("2877"),a=Object(i["a"])(n["default"],r["a"],r["b"],!1,null,null,null);t["default"]=a.exports},"77f2":function(e,t,o){"use strict";var r=o("8bcc"),n=o.n(r);n.a},"8bcc":function(e,t,o){},bd3d:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o("73b9"));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(){return o.e("components/km-title").then(o.bind(null,"2785"))},i=function(){return o.e("components/km-select").then(o.bind(null,"d645"))},a=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"eeff"))},d=function(){return o.e("components/km-input").then(o.bind(null,"4a64"))},u={data:function(){return{loginCount:0,bannerList:[],url:"",userinfo:"",type:"",isNewUser:0,userType:"",examine:1,car_num:"",goodsName:"",goodsWeight:"",goodsMoney:"",orderRemarks:"",setoutCity:"",endCity:"",carInfo:"",start_time:"",qqMapWX:"",endCityAddress:"",setoutAddress:"",endCityAddressInfo:"",setoutAddressInfo:"",start_delivery_lon:"",end_delivery_lon:"",car_type:"",yhqMoney:0,setoutCityIsError:0,endCityIsError:0,carInfoIsError:0,carNumIsError:0,startTimeIsError:0,goodsNameIsError:0,goodsWeightIsError:0,goodsMoneyIsError:0,goodsUsernameIsError:0,username:"",uid:""}},components:{kmTitle:s,kmSelect:i,uniPopup:a,kmInput:d},onLoad:function(t){e.setStorageSync("recommendId",t.uid),this.uid=e.getStorageSync("uid");var o=this,n=o.serverURL;this.url=n,e.showLoading({title:"检查中...",mask:!0}),e.request({url:n+"home/index/get_banner",method:"POST",success:function(t){console.log(t),100==t.data.code&&(o.bannerList=t.data.list),e.hideLoading()},fail:function(e){console.log(res)}}),this.userinfo=e.getStorageSync("userinfo"),this.userType=1*this.userinfo.user_identity,o.clearTemporary(),o.qqMapWX=new r.default({key:o.mapKey})},onShow:function(){var t=this,o=this.serverURL;this.uid=e.getStorageSync("uid"),null!=this.uid&&""!=this.uid&&e.request({url:o+"home/user/get_user_information",method:"POST",data:{wxchat_oppid:e.getStorageSync("openId")},success:function(r){if(300==r.data.code)e.redirectTo({url:"/pages/login/login?canGetUserInfo=0"});else if(100==r.data.code){var n={user_id:r.data.user_id,user_identity:r.data.user_type};e.setStorageSync("car_type",r.data.car_type),e.setStorageSync("examine",r.data.examine),e.setStorageSync("userinfo",n),e.setStorageSync("userType",n),e.setStorageSync("loginCount",r.data.login_count),t.car_type=r.data.car_type,t.examine=r.data.examine,t.userinfo=e.getStorageSync("userinfo"),t.loginCount=r.data.login_count,t.userType=r.data.user_type,1==t.loginCount&&e.request({url:o+"home/index/get_user_card_money",method:"POST",success:function(o){console.log(o),100==o.data.code&&(t.yhqMoney=o.data.money,t.togglePopup("middle-img"),e.hideTabBar())},fail:function(e){console.log(r)}})}},fail:function(e){console.log(e)}}),t.setoutCity=e.getStorageSync("setoutCity"),t.endCity=e.getStorageSync("endCity"),t.start_time=e.getStorageSync("componentTime")+" "+e.getStorageSync("componentTimeInfo"),t.setoutAddress=e.getStorageSync("setoutAddress"),t.endCityAddress=e.getStorageSync("endCityAddress"),t.setoutAddressInfo=e.getStorageSync("setoutAddressInfo"),t.endCityAddressInfo=e.getStorageSync("endAddressInfo"),t.goodsName=e.getStorageSync("goodsName");var r=e.getStorageSync("current"),n=e.getStorageSync("currentCT"),s=e.getStorageSync("currentCL");t.carInfo=""!=r?r:""!=n&&""!=s?n+"/"+s:""},methods:{goLogin:function(){e.navigateTo({url:"../login/login"})},searchOrder:function(){var t=this;if(1==this.examine){if(""==t.setoutCity?t.setoutCityIsError=1:""!=t.setoutCity&&(t.setoutCityIsError=0),""==t.endCity?t.endCityIsError=1:""!=t.endCity&&(t.endCityIsError=0),""==t.carInfo?t.carInfoIsError=1:""!=t.carInfo&&(t.carInfoIsError=0),""==t.setoutCity||""==t.endCity||""==t.carInfo)return!1;t.car_type!=t.carInfo?(this.togglePopup("middle"),e.hideTabBar()):(e.navigateTo({url:"../orderList/orderList?vehicle_msg="+t.carInfo+"&start_delivery="+t.setoutCity+"&end_delivery="+t.endCity}),t.storageHistoryCarInfo()),t.clearTemporary()}else{var o="",r="";0==this.examine?(o="没有提交认证",r="/pages/uploadCard/uploadCard"):2==this.examine?(o="身份审核未提交",r="/pages/uploadCard/uploadCard"):3==this.examine?(o="驾驶证审核未提交",r="/pages/uploadDrivingLicense/uploadDrivingLicense"):4==this.examine?(o="身份审核拒绝",r="/pages/uploadCard/uploadCard"):5==this.examine?(o="驾驶证审核拒绝",r="/pages/uploadDrivingLicense/uploadDrivingLicense"):6==this.examine?o="身份审核中":7==this.examine&&(o="驾驶证审核中"),e.showToast({title:o,icon:"none",mask:!0,success:function(){setTimeout(function(){e.navigateTo({url:r})},1500)}})}},isSure:function(){var t=this;this.togglePopup(""),e.navigateTo({url:"../orderList/orderList?vehicle_msg="+t.carInfo+"&start_delivery="+t.setoutCity+"&end_delivery="+t.endCity}),this.storageHistoryCarInfo(),t.clearTemporary()},togglePopup:function(t){this.type=t,""==t&&e.showTabBar()},releaseOrder:function(){var t=this,o=t.serverURL;if(this.inputBlur(),""==t.setoutCity||""==t.endCity||""==t.endCityAddressInfo.trim()||""==t.setoutAddressInfo.trim()||""==t.carInfo||""==t.car_num.trim()||""==t.start_time.trim()||""==t.goodsName.trim()||""==t.goodsWeight.trim()||""==t.goodsMoney.trim()||""==t.username.trim())return!1;e.showLoading({title:"发布中..."}),t.qqMapWX.geocoder({address:t.setoutCity+t.setoutAddress,success:function(r){console.log(r),0==r.status&&(t.start_delivery_lon=r.result.location.lng+","+r.result.location.lat,t.qqMapWX.geocoder({address:t.endCity+t.endCityAddress,success:function(r){if(console.log(r),0==r.status){t.end_delivery_lon=r.result.location.lng+","+r.result.location.lat;var n={user_id:t.uid,start_delivery:t.setoutCity+","+t.setoutAddress,end_delivery:t.endCity+","+t.endCityAddress,start_delivery_lon:t.start_delivery_lon,end_delivery_lon:t.end_delivery_lon,vehicle_msg:t.carInfo,car_num:t.car_num,start_time:t.start_time,transportation_name:t.goodsName,transportation_weight:t.goodsWeight,money:t.goodsMoney,username:t.username,remarks:t.orderRemarks};console.log(n),e.request({url:o+"home/release/release_information",method:"POST",data:n,success:function(o){console.log(o),100==o.data.code?(e.hideLoading(),e.showToast({title:"发布成功",icon:"success",mask:!0,success:function(){setTimeout(function(){e.navigateTo({url:"../orderTakerSuccess/orderTakerSuccess?userType=0"})},1500)}}),t.storageHistoryCarInfo(),t.clearTemporary(),t.goodsName="",t.car_num="",t.goodsWeight="",t.goodsMoney="",t.orderRemarks="",t.usernaem=""):e.showToast({title:"发布失败",icon:"none",mask:!0,success:function(){setTimeout(function(){e.navigateTo({url:"../orderTakerSuccess/orderTakerSuccess?userType=0"})},1500)}})},fail:function(e){console.log(e)}})}},fail:function(t){console.log(t),e.hideLoading(),e.showToast({title:"发布失败,地址有误",duration:2e3,icon:"none",mask:!0})}}))},fail:function(t){console.log(t),e.hideLoading(),e.showToast({title:"发布失败,地址有误",icon:"none",duration:2e3,mask:!0})}})},storageHistoryCarInfo:function(){var t=this,o=e.getStorageSync("selectCarHistory"),r=e.getStorageSync("selectNameHistory");if(""!=t.carInfo){if(""==o){var n=[];n.push(t.carInfo),e.setStorageSync("selectCarHistory",n)}else{for(var s=0,i=0;i<o.length;i++)if(o[i]==t.carInfo){s=1;break}0==s&&o.push(t.carInfo),e.setStorageSync("selectCarHistory",o)}console.log(o)}if(""==r){var a=[];a.push(t.goodsName),e.setStorageSync("selectNameHistory",a)}else{for(s=0,i=0;i<r.length;i++)if(r[i]==t.goodsName){s=1;break}0==s&&r.push(t.goodsName),e.setStorageSync("selectNameHistory",r)}},clearTemporary:function(){},inputBlur:function(){var e=this;""==e.setoutCity?e.setoutCityIsError=1:""!=e.setoutCity&&(e.setoutCityIsError=0),""==e.endCity?e.endCityIsError=1:""!=e.endCity&&(e.endCityIsError=0),""==e.endCityAddressInfo.trim()?e.endCityIsError=1:""!=e.endCityAddressInfo.trim()&&(e.endCityIsError=0),""==e.setoutAddressInfo.trim()?e.setoutCityIsError=1:""!=e.setoutAddressInfo.trim()&&(e.setoutCityIsError=0),""==e.carInfo?e.carInfoIsError=1:""!=e.carInfo&&(e.carInfoIsError=0),""==e.car_num.trim()?e.carNumIsError=1:""!=e.car_num.trim()&&(e.carNumIsError=0),""==e.start_time.trim()?e.startTimeIsError=1:""!=e.start_time.trim()&&(e.startTimeIsError=0),""==e.goodsName.trim()?e.goodsNameIsError=1:""!=e.goodsName.trim()&&(e.goodsNameIsError=0),""==e.goodsWeight.trim()?e.goodsWeightIsError=1:""!=e.goodsWeight.trim()&&(e.goodsWeightIsError=0),""==e.goodsMoney.trim()?e.goodsMoneyIsError=1:""!=e.goodsMoney.trim()&&(e.goodsMoneyIsError=0),""==e.username.trim()?e.goodsUsernameIsError=1:""!=e.username.trim()&&(e.goodsUsernameIsError=0)}}};t.default=u}).call(this,o("543d")["default"])},ef8b:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},n=[];o.d(t,"a",function(){return r}),o.d(t,"b",function(){return n})}},[["e439","common/runtime","common/vendor"]]]);