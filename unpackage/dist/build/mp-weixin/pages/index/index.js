(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"322f":function(e,t,r){"use strict";r.r(t);var o=r("bd3d"),n=r.n(o);for(var s in o)"default"!==s&&function(e){r.d(t,e,function(){return o[e]})}(s);t["default"]=n.a},4437:function(e,t,r){"use strict";r.r(t);var o=r("50e7"),n=r("322f");for(var s in n)"default"!==s&&function(e){r.d(t,e,function(){return n[e]})}(s);r("77f2");var i=r("2877"),a=Object(i["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=a.exports},"50e7":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},n=[];r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n})},"77f2":function(e,t,r){"use strict";var o=r("8bcc"),n=r.n(o);n.a},"8bcc":function(e,t,r){},bd3d:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r("73b9"));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(){return r.e("components/km-title").then(r.bind(null,"2785"))},i=function(){return r.e("components/km-select").then(r.bind(null,"d645"))},a=function(){return r.e("components/uni-popup/uni-popup").then(r.bind(null,"eeff"))},d=function(){return r.e("components/km-input").then(r.bind(null,"4a64"))},u={data:function(){return{loginCount:0,bannerList:[],url:"",userinfo:"",type:"",isNewUser:0,userType:1,examine:1,car_num:"",goodsName:"",goodsWeight:"",goodsMoney:"",orderRemarks:"",setoutCity:"",endCity:"",carInfo:"",start_time:"",qqMapWX:"",endCityAddress:"",setoutAddress:"",endCityAddressInfo:"",setoutAddressInfo:"",start_delivery_lon:"",end_delivery_lon:"",car_type:"",yhqMoney:0,setoutCityIsError:0,endCityIsError:0,carInfoIsError:0,carNumIsError:0,startTimeIsError:0,goodsNameIsError:0,goodsWeightIsError:0,goodsMoneyIsError:0,goodsUsernameIsError:0,username:""}},components:{kmTitle:s,kmSelect:i,uniPopup:a,kmInput:d},onLoad:function(t){e.setStorageSync("recommendId",t.uid);var r=this,n=r.serverURL;this.url=n,e.showLoading({title:"检查中...",mask:!0}),e.request({url:n+"home/index/get_banner",method:"POST",success:function(t){console.log(t),100==t.data.code&&(r.bannerList=t.data.list),e.hideLoading()},fail:function(e){console.log(res)}}),this.userinfo=e.getStorageSync("userinfo"),this.userType=1*this.userinfo.user_identity,r.clearTemporary(),r.qqMapWX=new o.default({key:r.mapKey})},onShow:function(){var t=this,r=this.serverURL;e.request({url:r+"home/user/get_user_information",method:"POST",data:{wxchat_oppid:e.getStorageSync("openId")},success:function(r){if(300==r.data.code)e.redirectTo({url:"/pages/login/login?canGetUserInfo=0"});else if(100==r.data.code){var o={user_id:r.data.user_id,user_identity:r.data.user_type};e.setStorageSync("car_type",r.data.car_type),e.setStorageSync("examine",r.data.examine),e.setStorageSync("userinfo",o),e.setStorageSync("userType",o),e.setStorageSync("loginCount",r.data.login_count),t.car_type=e.getStorageSync("car_type"),t.examine=e.getStorageSync("examine"),t.userinfo=e.getStorageSync("userinfo"),t.loginCount=e.getStorageSync("loginCount")}},fail:function(e){console.log(e)}}),1==this.loginCount&&e.request({url:r+"home/index/get_user_card_money",method:"POST",success:function(r){console.log(r),100==r.data.code&&(t.yhqMoney=r.data.money,t.togglePopup("middle-img"),e.hideTabBar())},fail:function(e){console.log(res)}}),t.setoutCity=e.getStorageSync("setoutCity"),t.endCity=e.getStorageSync("endCity"),t.start_time=e.getStorageSync("componentTime")+" "+e.getStorageSync("componentTimeInfo"),t.setoutAddress=e.getStorageSync("setoutAddress"),t.endCityAddress=e.getStorageSync("endCityAddress"),t.setoutAddressInfo=e.getStorageSync("setoutAddressInfo"),t.endCityAddressInfo=e.getStorageSync("endAddressInfo"),t.goodsName=e.getStorageSync("goodsName");var o=e.getStorageSync("current"),n=e.getStorageSync("currentCT"),s=e.getStorageSync("currentCL");t.carInfo=""!=o?o:""!=n&&""!=s?n+"/"+s:""},methods:{searchOrder:function(){var t=this;if(1==this.examine){if(""==t.setoutCity?t.setoutCityIsError=1:""!=t.setoutCity&&(t.setoutCityIsError=0),""==t.endCity?t.endCityIsError=1:""!=t.endCity&&(t.endCityIsError=0),""==t.carInfo?t.carInfoIsError=1:""!=t.carInfo&&(t.carInfoIsError=0),""==t.setoutCity||""==t.endCity||""==t.carInfo)return!1;t.car_type!=t.carInfo?(this.togglePopup("middle"),e.hideTabBar()):(e.navigateTo({url:"../orderList/orderList?vehicle_msg="+t.carInfo+"&start_delivery="+t.setoutCity+"&end_delivery="+t.endCity}),t.storageHistoryCarInfo()),t.clearTemporary()}else{var r="";0==this.examine?r="没有提交认证":2==this.examine?r="身份审核未提交":3==this.examine?r="驾驶证审核未提交":4==this.examine?r="身份审核拒绝":5==this.examine?r="驾驶证审核拒绝":6==this.examine?r="身份审核中":7==this.examine&&(r="驾驶证审核中"),e.showToast({title:r,icon:"none",mask:!0})}},isSure:function(){var t=this;this.togglePopup(""),e.navigateTo({url:"../orderList/orderList?vehicle_msg="+t.carInfo+"&start_delivery="+t.setoutCity+"&end_delivery="+t.endCity}),this.storageHistoryCarInfo(),t.clearTemporary()},togglePopup:function(t){this.type=t,""==t&&e.showTabBar()},releaseOrder:function(){var t=this,r=t.serverURL;if(this.inputBlur(),""==t.setoutCity||""==t.endCity||""==t.endCityAddressInfo.trim()||""==t.setoutAddressInfo.trim()||""==t.carInfo||""==t.car_num.trim()||""==t.start_time.trim()||""==t.goodsName.trim()||""==t.goodsWeight.trim()||""==t.goodsMoney.trim()||""==t.username.trim())return!1;e.showLoading({title:"发布中..."}),t.qqMapWX.geocoder({address:t.setoutCity+t.setoutAddress,success:function(o){console.log(o),0==o.status&&(t.start_delivery_lon=o.result.location.lng+","+o.result.location.lat,t.qqMapWX.geocoder({address:t.endCity+t.endCityAddress,success:function(o){if(console.log(o),0==o.status){t.end_delivery_lon=o.result.location.lng+","+o.result.location.lat;var n={user_id:t.userinfo.user_id,start_delivery:t.setoutCity+","+t.setoutAddress,end_delivery:t.endCity+","+t.endCityAddress,start_delivery_lon:t.start_delivery_lon,end_delivery_lon:t.end_delivery_lon,vehicle_msg:t.carInfo,car_num:t.car_num,start_time:t.start_time,transportation_name:t.goodsName,transportation_weight:t.goodsWeight,money:t.goodsMoney,username:t.username,remarks:t.orderRemarks};console.log(n),e.request({url:r+"home/release/release_information",method:"POST",data:n,success:function(r){console.log(r),100==r.data.code?(e.hideLoading(),e.showToast({title:"发布成功",icon:"success",mask:!0,success:function(){setTimeout(function(){e.navigateTo({url:"../orderTakerSuccess/orderTakerSuccess?userType=0"})},1500)}}),t.storageHistoryCarInfo(),t.clearTemporary(),t.goodsName="",t.car_num="",t.goodsWeight="",t.goodsMoney="",t.orderRemarks="",t.usernaem=""):e.showToast({title:"发布失败",icon:"none",mask:!0,success:function(){setTimeout(function(){e.navigateTo({url:"../orderTakerSuccess/orderTakerSuccess?userType=0"})},1500)}})},fail:function(e){console.log(e)}})}},fail:function(t){console.log(t),e.hideLoading(),e.showToast({title:"发布失败,地址有误",duration:2e3,icon:"none",mask:!0})}}))},fail:function(t){console.log(t),e.hideLoading(),e.showToast({title:"发布失败,地址有误",icon:"none",duration:2e3,mask:!0})}})},storageHistoryCarInfo:function(){var t=this,r=e.getStorageSync("selectCarHistory"),o=e.getStorageSync("selectNameHistory");if(""!=t.carInfo){if(""==r){var n=[];n.push(t.carInfo),e.setStorageSync("selectCarHistory",n)}else{for(var s=0,i=0;i<r.length;i++)if(r[i]==t.carInfo){s=1;break}0==s&&r.push(t.carInfo),e.setStorageSync("selectCarHistory",r)}console.log(r)}if(""==o){var a=[];a.push(t.goodsName),e.setStorageSync("selectNameHistory",a)}else{for(s=0,i=0;i<o.length;i++)if(o[i]==t.goodsName){s=1;break}0==s&&o.push(t.goodsName),e.setStorageSync("selectNameHistory",o)}},clearTemporary:function(){},inputBlur:function(){var e=this;""==e.setoutCity?e.setoutCityIsError=1:""!=e.setoutCity&&(e.setoutCityIsError=0),""==e.endCity?e.endCityIsError=1:""!=e.endCity&&(e.endCityIsError=0),""==e.endCityAddressInfo.trim()?e.endCityIsError=1:""!=e.endCityAddressInfo.trim()&&(e.endCityIsError=0),""==e.setoutAddressInfo.trim()?e.setoutCityIsError=1:""!=e.setoutAddressInfo.trim()&&(e.setoutCityIsError=0),""==e.carInfo?e.carInfoIsError=1:""!=e.carInfo&&(e.carInfoIsError=0),""==e.car_num.trim()?e.carNumIsError=1:""!=e.car_num.trim()&&(e.carNumIsError=0),""==e.start_time.trim()?e.startTimeIsError=1:""!=e.start_time.trim()&&(e.startTimeIsError=0),""==e.goodsName.trim()?e.goodsNameIsError=1:""!=e.goodsName.trim()&&(e.goodsNameIsError=0),""==e.goodsWeight.trim()?e.goodsWeightIsError=1:""!=e.goodsWeight.trim()&&(e.goodsWeightIsError=0),""==e.goodsMoney.trim()?e.goodsMoneyIsError=1:""!=e.goodsMoney.trim()&&(e.goodsMoneyIsError=0),""==e.username.trim()?e.goodsUsernameIsError=1:""!=e.username.trim()&&(e.goodsUsernameIsError=0)}}};t.default=u}).call(this,r("543d")["default"])}},[["e439","common/runtime","common/vendor"]]]);