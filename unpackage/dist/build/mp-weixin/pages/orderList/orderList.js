(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/orderList"],{"04be":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},"1bf3":function(e,t,n){},"382b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("a34a")),o=i(n("5b0b"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a,o,i,r){try{var d=e[i](r),s=d.value}catch(c){return void n(c)}d.done?t(s):Promise.resolve(s).then(a,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function d(e){r(i,a,o,d,s,"next",e)}function s(e){r(i,a,o,d,s,"throw",e)}d(void 0)})}}var s=function(){return n.e("components/km-order2").then(n.bind(null,"5776"))},c={data:function(){return{scrollLeft:0,tabIndex:0,tabBars:[{name:"即时订单",id:"jishidingdan"},{name:"预约订单",id:"yuyuedingdan"}],vehicle_msg:"",start_delivery:"",end_delivery:"",page_num:0,orderList:[],todayOrderList:[],recommendList:[],recommendTodayList:[],todayListPage:0,todayPageCount:0,YYListPage:0,YYPageCount:0,todayRecommendPage:0,todayRecommendPageCount:0,recommendPageCount:0,recommendPage:0}},components:{kmOrder:s},onLoad:function(e){this.vehicle_msg=e.vehicle_msg,this.start_delivery=e.start_delivery,this.end_delivery=e.end_delivery,this.getTodayList(this.todayListPage),this.getYYList(this.YYListPage)},methods:{seeOrder:function(t,n){console.log("test");e.navigateTo({url:"../orderInfo2/orderInfo2?orderId="+n})},getTodayList:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this,o=a.serverURL,i={vehicle_msg:this.vehicle_msg,start_delivery:this.start_delivery,end_delivery:this.end_delivery,page_num:t,times:1};(t<a.todayPageCount||0==n)&&(e.showLoading({title:"急速为你匹配中...",mask:!0}),e.request({url:o+"home/index/get_transportation_list",method:"POST",data:i,success:function(t){if(console.log(t),100==t.data.code){e.hideLoading();var o=t.data.list;1==n?a.todayOrderList.push.apply(a.todayOrderList,o):(a.todayOrderList=o,a.todayPageCount=t.data.count_page),0==a.todayOrderList.length&&a.getTodayRecommend(a.todayRecommendPage)}},fail:function(e){console.log(e)},complete:function(){e.hideLoading()}}))},getYYList:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this,o=a.serverURL,i={vehicle_msg:this.vehicle_msg,start_delivery:this.start_delivery,end_delivery:this.end_delivery,page_num:t,times:2};(t<a.YYPageCount||0==n)&&(e.showLoading({title:"急速为你匹配中...",mask:!0}),e.request({url:o+"home/index/get_transportation_list",method:"POST",data:i,success:function(t){if(console.log(t),100==t.data.code){e.hideLoading();var o=t.data.list;1==n?a.orderList.push.apply(a.orderList,o):(a.orderList=o,a.YYPageCount=t.data.count_page),0==a.orderList.length&&a.getRecommend(a.recommendPage)}},fail:function(e){console.log(e)},complete:function(){e.hideLoading()}}))},getTodayRecommend:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this,o=a.serverURL,i={start_delivery:a.start_delivery,times:1,page_num:t};(t<a.todayRecommendPageCount||0==n)&&(e.showLoading({title:"急速为你匹配中...",mask:!0}),e.request({url:o+"home/index/get_transportation_list",method:"POST",data:i,success:function(t){if(console.log(t),100==t.data.code){e.hideLoading();var o=t.data.list;1==n?a.recommendTodayList.push.apply(a.recommendTodayList,o):(a.recommendTodayList=o,a.todayRecommendPageCount=t.data.count_page)}}}))},getRecommend:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this,o=a.serverURL,i={start_delivery:a.start_delivery,times:2,page_num:t};(t<a.recommendPageCount||0==n)&&(e.showLoading({title:"急速为你匹配中...",mask:!0}),e.request({url:o+"home/index/get_transportation_list",method:"POST",data:i,success:function(t){if(console.log(t),100==t.data.code){e.hideLoading();var o=t.data.list;1==n?a.recommendList.push.apply(a.recommendList,o):(a.recommendList=o,a.recommendPageCount=t.data.count_page)}}}))},isToday:function(e){var t=o.default.contrastDate(e);return t},goDetail:function(e){},loadMore:function(e){var t=this;0==e&&0!=t.todayOrderList.length?this.getTodayList(t.todayListPage=t.todayListPage+1,1):1==e&&0!=t.orderList.length?this.getYYList(t.YYListPage=t.YYListPage+1,1):0==e&&0==t.todayOrderList.length?this.getTodayRecommend(t.todayRecommendPage=t.todayRecommendPage+1,1):1==e&&0==t.orderList.length&&this.getRecommend(t.recommendPage=t.recommendPage+1,1)},addData:function(e){},changeTab:function(){var e=d(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.target.current,this.tabIndex=n,this;case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),tapTab:function(){var e=d(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.target.dataset.current,this.tabIndex=n;case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}};t.default=c}).call(this,n("543d")["default"])},cb23:function(e,t,n){"use strict";n.r(t);var a=n("04be"),o=n("e17a");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("e36c");var r=n("2877"),d=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=d.exports},e17a:function(e,t,n){"use strict";n.r(t);var a=n("382b"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},e36c:function(e,t,n){"use strict";var a=n("1bf3"),o=n.n(a);o.a}},[["e0d1","common/runtime","common/vendor"]]]);